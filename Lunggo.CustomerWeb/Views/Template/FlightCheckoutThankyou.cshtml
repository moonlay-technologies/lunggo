@using System.Globalization
@using Lunggo.ApCommon.Constant
@using Lunggo.ApCommon.Flight.Constant
@using Lunggo.ApCommon.Payment.Constant
@using Lunggo.Framework.Config
@model Lunggo.ApCommon.Flight.Model.FlightReservationForDisplay

@{
    Layout = "/Views/Shared/Travorama20/_Layout20150929.cshtml";
    ViewBag.BodyClass = "page-thankyou";
    ViewBag.Title = "Terima Kasih";

    ViewBag.BookingFailed = false;
}

@{
    var timeout = ConfigManager.GetInstance().GetConfigValue("flight", "paymentTimeout");
}

@section AdditionalJS {
    <script src="/Assets/js/jquery.countdown.min.js"></script>
}
@section PageJS{
    <script>
        var langCode = 'en';
        var printTimeout = '';

        // development only start
        printTimeout = new Date(); // please change this print time out to actual time
        printTimeout.setSeconds(printTimeout.getSeconds() + 7200);
        // development only end

        // countdown timer
        $('.timer').countdown(printTimeout, function (event) {
            $('.timer .hour h5').text(event.strftime('%H'));
            $('.timer .minute h5').text(event.strftime('%M'));
            $('.timer .second h5').text(event.strftime('%S'));
        }).on('finish.countdown', function () {
            $('.print .btn').removeClass('disabled');
        });

    </script>
}

    <div>

        <h2 class="section-title stripe text-center">TERIMA <span>KASIH</span></h2>

        <div class="container">
            <p>Telah memesan penerbangan di Travorama.com. Anda dapat mencetak e-ticket Anda melalui tombol berikut atau mengunduhnya di email setelah :</p>

            <section class="countdown">

                <!--
                    <div class="row">

                        <div class="col-xs-5 col-xs-offset-2">
                            <div class="timer">
                                <div class="hour">
                                    <h5>00</h5>
                                    <span>Jam</span>
                                </div>
                                <div class="separator">:</div>
                                <div class="minute">
                                    <h5>00</h5>
                                    <span>Menit</span>
                                </div>
                                <div class="separator">:</div>
                                <div class="second">
                                    <h5>00</h5>
                                    <span>Detik</span>
                                </div>
                            </div>
                        </div>
                        <div class="col-xs-4">
                            <div class="print">
                            </div>
                        </div>
                    </div>
                    -->

                <div class="row">
                    <div class="col-sm-4 col-sm-offset-4">
                        <div class="print">
                            @using (Html.BeginForm())
                            {
                                <button class="btn btn-yellow block"><span>CEK PESANAN</span></button>
                            }
                        </div>
                    </div>
                </div>

                <p>Anda dapat  menutup halaman ini dan mengecek status penerbitan e-ticket di menu cek pemesanan setiap saat.</p>

            </section><!-- .section -->

            <section class="order-detail">
                <header>
                    <h4><b>Detail Pesanan</b> <span class="pull-right">Order ID: <b>116756573779</b></span></h4>
                </header>
                    <!--<section>
                        @*<h4><b>Account Number    : @Model.Payment.TargetAccount</b></h4>
                        @{var jamTimeLimit = Model.Payment.TimeLimit.GetValueOrDefault().AddHours(7);}
                        <h4><b>Batas Pembayaran  : @Model.Payment.TimeLimit.GetValueOrDefault().ToString("dddd", CultureInfo.CreateSpecificCulture("id-ID")), @jamTimeLimit.ToString("dd MMM yyyy", CultureInfo.CreateSpecificCulture("id-ID")) - Pk @jamTimeLimit.ToString("HH:mm") WIB.</b></h4>
                    *@</section>-->
                <section>
                    <div class="container">
                        <div class="row">
                            <div class="order-detail-left col-xs-8">
                                <div class="passenger">
                                    <h4>INFO PENUMPANG</h4>

                                    <ol>
                                            <li><p>Dewasa: Mr. Gianluigi Buffon</p></li>
                                    </ol>

                                </div>
                                <div class="order">
                                    <h4>DETAIL PENERBANGAN</h4>

                                    <div class="flight departure">
                                            
                                            <div class="row">
                                                <div class="col-xs-3">
                                                    <p>Berangkat : </p>
                                                </div>
                                                <div class="col-xs-9">
                                                    <p> Jakarta (CGK) - Denpasar (DPS)</p>
                                                    <p>Rabu, 20 Apr 2016</p>
                                                </div>
                                            </div>
                                    </div>
                                        <div class="flight return">
                                                <div class="row">
                                                    <div class="col-xs-3">
                                                        <p>Kembali : </p>
                                                    </div>
                                                    <div class="col-xs-9">
                                                        <p>Jakarta (CGK) - Denpasar (DPS)</p>
                                                        <p>Rabu, 20 Apr 2016</p>
                                                    </div>
                                                </div>
                                        </div>
                                </div>

                            </div>
                            <div class="order-detail-right col-xs-4">
                                <div class="price-detail">
                                    <h4>RINCIAN HARGA</h4>
                                    <dl>
                                        <dt>Tiket Pesawat <span>(1 Penumpang)</span></dt>
                                        <dd>Rp 695.900</dd>
                                    </dl>
                                        <dl>
                                            <dt>Diskon bla</dt>
                                            <dd>- Rp 900</dd>
                                        </dl>
                                    <dl class="total-price">
                                        <dt>Total</dt>
                                        <dd>Rp 695.000</dd>
                                    </dl>
                                </div>

                                <div class="payment-detail">
                                    <h4>METODE PEMBAYARAN</h4>
                                        <h5>ATM/Virtual Account</h5>
                                        <img src="/Assets/images/atm-bersama.jpg" alt="Virtual Account" />
                                        <!--<h5>No. Virtual Account : </h5>
                                        @*<h4>@Model.Payment.TargetAccount</h4>
                                        <h6>Valid Until : @Model.Payment.TimeLimit.GetValueOrDefault().ToString("dddd", CultureInfo.CreateSpecificCulture("id-ID")), @jamTimeLimit.ToString("dd MMM yyyy", CultureInfo.CreateSpecificCulture("id-ID")) - Pk @jamTimeLimit.ToString("HH:mm") WIB.</h6> *@-->
                                </div>

                            </div>

                        </div>
                    </div>

                </section>
            </section><!-- .order-detail -->

        </div>

    </div>
