@using Lunggo.CustomerWeb.Models
@using Lunggo.Framework.Config
@{
    Layout = "/Views/Shared/mobile/_LayoutMobile.cshtml";
    ViewBag.Title = "Diskon untuk semua penerbangan dan hotel domestik dan internasional";
    ViewBag.BodyClass = "page page-home";
    ViewBag.AngularController = "homeController";
    ViewBag.CurrentPage = "home";
    ViewBag.SiteHeader = "mobile-home-page";
    ViewBag.Page = "Index";
}

@section AdditionalCSS{
    <link rel="stylesheet" type="text/css" href="/Assets/vendor/slick/slick.css" />
    <link href="/Assets/css/jquery-ui.min.css" rel="stylesheet" />
}

@section AdditionalJS {

    <script src="/Config/JsConfig.js"></script>
    <!-- jquery datepicker -->
    <script src="/Assets/js/jquery-ui.min.js"></script>
    <script type="text/javascript" src="/Assets/js/jquery.ui.datepicker-id.js"></script>
    <script src="/Assets/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="/Assets/vendor/slick/slick.min.js"></script>
    <script src="/Assets/js/jquery.ui.touch-punch.min.js"></script>
    <script src="/Assets/vendor/slick/slick.min.js"></script>
    <script src="/Assets/js/js.cookie.js"></script>
    @*<script type="text/javascript" src="/Assets/vendor/fullcalendar/fullcalendar.min.js"></script>
    <script type="text/javascript" src="/Assets/vendor/fullcalendar/fullcalendar-id.min.js"></script>*@
}

@section PageJS {
    <script src="/Assets/travorama20/angularDirectory/search/hotelSearch.service.js"></script>
    <script src="/Assets/mobile/js/HomeController.js"></script>
    <script type="text/javascript">
        //// jQuery accordion initialization
        var accordionAnimationDuration = 200;
        $("#accordion").accordion({
            collapsible: true,
            active: false,
            heightStyle: "content",
            animate: accordionAnimationDuration
        });

        //// Animate dom when opening / closing the accordion
        $(".btn-flight").click( function(){

            var headerIcon = $(this).find("div img");
            //// if accordion is going to be expanded (headerIcon is still visible) 
            if (headerIcon.is(":visible")){
                //// show another section's headerIcon
                var siblings = $(this).siblings(".btn-flight");
                siblings.find("div img, div span").show(accordionAnimationDuration);

                $('html, body').animate({
                    scrollTop: $("#accordion").offset().top - $("header").height()
                }, 500);
            }

            headerIcon.toggle(accordionAnimationDuration);
            $(this).find("div span").toggle(accordionAnimationDuration);
        });

        //// dismiss sticky banner
        $(".sticky-banner").click(()=>{
            $(".sticky-banner").slideUp();
        });

        $(document).ready(()=>{
            // $(".sticky-banner").hide(); //will be handled by CSS
            //// show sticky banner after 2000ms
            setTimeout( function(){
                $(".sticky-banner").slideDown();
            }, 2000);
        });
    </script>
}

<div class="page-loading form-container" ng-class="{'page-loaded' : PageConfig.Loaded}" ng-init="getCookies()">
    <div class="carousel-inner" role="listbox">
        
            <div class="item">
                <a href="/id/Promo/BTNTerbanginHemat"><img src="/Assets/images/campaign/TerbanginHemat/TerbanginHemat-slider-mobile.jpg" alt="Terbangin Hemat (Terbang & Nginap Hemat)" /></a>
            </div>
        
        <div class="item">
            <a href="http://onelink.to/travoramaapp"><img src="/Assets/images/banner/download-app.jpg" alt="Download Applikasi Travorama!" /></a>
        </div>
    </div>
    <div class="main-tab clearfix">
        <div class="row group-kategori" id="accordion">
            <!-- <a href="#"> -->
                <div class="col-xs-12 btn-flight">
                    <div class="col-xs-4"><img src="/Assets/mobile/images/btn-flight.png" alt="Flight" /></div>
                    <div class="col-xs-8 title-btn "><h3 class=" bold-txt">Pesawat</h3><span>Lorem ipsum dolor sit amet</span></div>
                </div>
                <div class="form-wrapper">
                    <form class="flight-form" name="flight-form" ng-submit="FlightSearchForm.Submit()" novalidate>
                        <div class="top-form row">
                            <div class="col-xs-5">
                                <div class="form-group form__origin">
                                    <div class="title-destination">Asal</div>
                                    <p class="form-control" ng-click="FlightSearchForm.AutoComplete.Reset('departure'); PageConfig.SetOverlay('airport-select')">
                                        <span class="code-airport">{{FlightSearchForm.AirportOrigin.Code}}</span><br /><span class="city">{{FlightSearchForm.AirportOrigin.City}}</span>
                                    </p>
                                </div>
                            </div>
                            <div class="col-xs-2">
                                <div class="flip-container" ng-click="flip()">
                                    <a class="flip"><span class="icon-flip"></span></a>
                                </div>
                            </div>
                            <div class="col-xs-5">
                                <div class="form-group form__destination">
                                    <div class="title-destination">Tujuan</div>
                                    <p class="form-control" ng-click="FlightSearchForm.AutoComplete.Reset('return'); PageConfig.SetOverlay('airport-select')">
                                        <span class="code-airport">{{FlightSearchForm.AirportDestination.Code}}</span><br /><span class="city">{{FlightSearchForm.AirportDestination.City}}</span>
                                    </p>
                                </div>
                            </div>
                        </div>
                        <div class="middle-form">
                            <div class="form-group form__departure">
                                <span class="icon-pp"></span>
                                <div class="field-container">
                                    <p class="form-control" ng-click="DatePicker.SetOption({Target : 'departure'}, ' ', 'form-index'); PageConfig.SetOverlay('datepicker-departure')">
                                        Berangkat <span>{{FlightSearchForm.DepartureDate | date : 'EEE, dd MMM yyyy'}}</span>
                                    </p>
                                </div>
                                <input type="text" value="" ng-model="FlightSearchForm.DepartureDate" class="flight-search-form-departure hidden" />
                            </div>
                            <div class="form-group form__roundtrip">
                                <span class="icon-return"></span>
                                <div class="field-container">
                                    <p class="os-bold">Pulang Pergi ?</p>
                                    <label class="switch">
                                        <input type="checkbox" ng-model="val" ng-true-value="true" ng-false-value="false" ng-click="DatePicker.SetDefaultReturnDate(val)"
                                               id="flightType">
                                        <div class="slider round"></div>
                                    </label>
                                </div>
                            </div>
                            <div class="form-group form__return" ng-show="val">
                                <span class="icon-pp"></span>
                                <div class="field-container">
                                    <p class="form-control" ng-click="DatePicker.SetOption({Target : 'return'}, ' ', 'form-index'); PageConfig.SetOverlay('datepicker-return')">
                                        Kembali <span>{{FlightSearchForm.ReturnDate | date : 'EEE, dd MMM yyyy'}}</span>
                                        <input type="text" value="" ng-model="FlightSearchForm.ReturnDate" class="flight-search-form-return hidden" />
                                    </p>
                                </div>
                            </div>
                            <div class="form-group form__flightclass">
                                <span class="icon-fc"></span>
                                <div class="field-container">
                                    <select class="form-control" name="cabinclass" ng-model="FlightSearchForm.Cabin" ng-init="FlightSearchForm.Cabin = flightclass[0].value">
                                        <option ng-repeat="cabin in flightclass" value="{{cabin.value}}">{{cabin.name}}</option>
                                    </select>
                                    <span class="arrow"></span>
                                </div>
                            </div>
                            <div class="form-group form__passenger clearfix">
                                <div class="col-custom-logo icon-adult"></div>
                                <div class="field-container form-adult col-custom-field">
                                    <div class="field-wrapper">
                                        <p class="form-control" ng-click="FlightSearchForm.PassengerPicker.Reset('adult'); PageConfig.SetOverlay('passenger-select')">{{FlightSearchForm.Passenger[0]}} Dewasa</p>
                                    </div>
                                </div>
                                <div class="col-custom-logo icon-child"></div>
                                <div class="field-container form-child col-custom-field">
                                    <div class="field-wrapper">
                                        <p class="form-control" ng-click="FlightSearchForm.PassengerPicker.Reset('children'); PageConfig.SetOverlay('passenger-select')">{{FlightSearchForm.Passenger[1]}} Anak</p>
                                    </div>
                                </div>
                                <div class="col-custom-logo icon-infant"></div>
                                <div class="field-container form-infant col-custom-field">
                                    <div class="field-wrapper">
                                        <p class="form-control" ng-click="FlightSearchForm.PassengerPicker.Reset('infant'); PageConfig.SetOverlay('passenger-select')">{{FlightSearchForm.Passenger[2]}} Bayi</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group form__submit">
                            <button class="btn btn-yellow btn-block btn-lg btnSubmit">CARI PENERBANGAN</button>
                        </div>
                    </form><!-- .flight-form -->
                </div><!-- .form-wrapper -->

            <!-- </a> -->
            <!-- <a href="#"> -->
                <div class="col-xs-12 btn-flight">
                    <div class="col-xs-4"><img src="/Assets/mobile/images/btn-hotel.png" alt="Hotel" /></div>
                    <div class="col-xs-8 title-btn "><h3 class=" bold-txt">Hotel</h3><span>Lorem ipsum dolor sit amet</span></div>
                </div>
                <div class="form-wrapper">
                    @Html.Partial("/Views/Shared/Mobile/_SearchHotelForm.cshtml", new HotelLocation
                    {
                        IsHotelSearch = false
                    })
                </div>
            <!-- </a> -->
            <!-- <a href="#"> -->
                <div class="col-xs-12 btn-flight">
                    <div class="col-xs-4"><img src="/Assets/mobile/images/btn-Promo.png" alt="Promo" /></div>
                    <div class="col-xs-8 title-btn"><h3 class=" bold-txt">Promo</h3><span>Lorem ipsum dolor sit amet</span></div>
                </div>
                <div>
                    <p>content promo</p>
                </div>
            <!-- </a> -->
        </div>  
    </div>
    <div class="main-tab slider-mobile clearfix">
        <div class="row">
            <h2 class="section-title stripe text-center xlg-txt">Mengapa Memilih <span>Travorama</span></h2>
            <div class="carousel-inner-mobile" role="listbox">
                <div class="item">
                    <img src="/Assets/images/harga.jpg" alt="" />
                </div>
                <div class="item">
                    <img src="/Assets/images/waktu.jpg" alt="" />
                </div>
                <div class="item">
                    <img src="/Assets/images/tanpa.jpg" alt="" />
                </div>
                <div class="item">
                    <img src="/Assets/images/rute.jpg" alt="" />
                </div>
                <div class="item">
                    <img src="/Assets/images/pilihan.jpg" alt="" />
                </div>
                <div class="item">
                    <img src="/Assets/images/jaminan.jpg" alt="" />
                </div>
            </div>
        </div>
    </div>
    <div class="main-tab clearfix">
        <div class="row partner">
            <h2 class="section-title stripe text-center xlg-txt">Partner <span>Maskapai</span></h2>
            <div class="img-partner"><img src="/Assets/mobile/images/partner.png" alt="Partner" /></div>
        </div>
    </div
    <div class="main-tab clearfix">
        <div class="row partner">
            <h2 class="section-title stripe text-center xlg-txt">Partner <span>Hotel</span></h2>
            <div class="img-partner"><img src="/Assets/mobile/images/partner.png" alt="Partner" /></div>
        </div>
    </div>
    <div class="main-tab clearfix">
        <div class="row konten-download-apps">
            <div class="title-download-apps"><h3 class=" bold-txt-new">Booking Tiket Mudah & Cepat</h3> <span>Rasakan kemudahan booking tiket di HP Anda</span><br/><span>dengan mendownload GRATIS Travorama Mobile App</span></div>
            <div class="col-xs-6 align-right"><a href="https://play.google.com/store/apps/details?id=com.travorama&amp;hl=en"><img src="/Assets/mobile/images/play-store.png" alt="Partner" /></a></div>
            <div class="col-xs-6 align-left"><a href="https://appsto.re/id/N8Dgeb.i"><img src="/Assets/mobile/images/app-store.png" alt="Partner" /></a></div>
        </div>
    </div>
    <div class="main-tab clearfix">
        <div class="row contact-mobile">
            <div class="list-sosmed">
                <ul>
                    <li><a href="https://www.facebook.com/travorama" target="_blank"><img src="/Assets/mobile/images/fb-mobile.png" alt="Facebook" /></a></li>
                    <li><a href="https://twitter.com/travoramaid" target="_blank"><img src="/Assets/mobile/images/twitter-mobile.png" alt="Twitter" /></a></li>
                    <li><a href="https://www.instagram.com/travorama/" target="_blank"><img src="/Assets/mobile/images/instagram-mobile.png" alt="Instagram" /></a></li>
                    <li><a href="#"><img src="/Assets/mobile/images/gplus-mobile.png" alt="Google Plus" /></a></li>
                </ul>
            </div>
            <div class="no-contact clearfix">
                <div class="col-xs-5 logo-cs"><img src="/Assets/mobile/images/logo-cs.png" alt="Partner" /></div>
                <div class="col-xs-7 info-customer">Customer Service <br/> <h3>0855 - 7467 - 9737</h3><span>Cs@travorama.com</span><br/><span>Senin - Jumat: 09.00-18.00</span></div>
            </div>
        </div>
    </div>

    <!-- sticky banner -->
    <!-- TODO: pindahin styleCSS nya ke file .css yg bner -->
    <div class="sticky-banner" style="display: none;">
        <img src="/Assets/mobile/images/sticky-banner.jpg" alt="Download Apps" />
        <div>
            <a href="#" target="_blank" style="width: 80%; background-color: green"></a>
        </div>
    </div>

    <!-- overlays -->
        <!-- overlay date picker -->
        @Html.Partial("/Views/Shared/Mobile/_DatePickerForm.cshtml")
        <!-- overlay airport selector -->
        @Html.Partial("/Views/Shared/Mobile/_AirportSelectForm.cshtml")
        <!-- overlay passenger picker -->
        @Html.Partial("/Views/Shared/Mobile/_PassengerPickerForm.cshtml")
        <!-- overlay hotel selector -->
        @Html.Partial("/Views/Shared/Mobile/_Autocomplete.cshtml")
        <!-- overlay hotel date -->
        @Html.Partial("/Views/Shared/Mobile/_SelectCheckInDate.cshtml")
</div><!-- .page-loading -->